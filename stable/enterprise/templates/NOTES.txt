To use Anchore you need the URL, username, and password to access the API and/or the UI.

The Anchore API can be accessed via port {{ .Values.api.service.port }} on the following DNS name from within the cluster:

    {{ include "enterprise.api.fullname" . -}}.{{- .Release.Namespace -}}.svc.cluster.local

The Anchore UI can be accessed via localhost:8080 with kubernetes port-forwarding:

    kubectl port-forward -n {{ .Release.Namespace }} svc/{{- template "enterprise.ui.fullname" . }} 8080:{{- .Values.ui.service.port }}

Get the default admin password using the following command:

    # for MacOS
    kubectl get secret {{ template "enterprise.fullname" . }} -n {{ .Release.Namespace }} -o jsonpath='{.data.ANCHORE_ADMIN_PASSWORD}' | base64 -D

    # for Linux
    kubectl get secret {{ template "enterprise.fullname" . }} -n {{ .Release.Namespace }} -o jsonpath='{.data.ANCHORE_ADMIN_PASSWORD}' | base64 -d

* NOTE: On first startup of Anchore Enterprise, the policy-engine performs a CVE data sync which may take several minutes to complete.
During this time the system status will report 'partially_down' and any images added for analysis will stay in the 'not_analyzed' state.
Once the sync is complete, any queued images will be analyzed and the system status will change to 'all_up'.

Initial setup time can be >120sec for postgresql setup and readiness checks to pass for the services as indicated by pod state.
You can check with:

    kubectl get pods -n {{ .Release.Namespace }} -l app.kubernetes.io/name={{- template "enterprise.fullname" . -}},app.kubernetes.io/component=api

{{ if and .Values.useExistingSecrets .Release.IsUpgrade (semverCompare "~2.1.0" .Chart.Version) }}
******************

WARNING: This deployment is utilizing Existing Secrets. Your ANCHORE_REDIS_URI environment variable needs to be updated.
A username is no longer required, please remove `nouser` from the URI. The UI will not function unless this update is performed.

For more details see the v2.1.0 release notes - https://github.com/anchore/anchore-charts/blob/main/stable/enterprise/README.md#v210

******************
{{ end }}

{{ include "enterprise.kubectl.deprecationWarnings" . }}

{{ if or (.Values.postgresql.chartEnabled) (index .Values "ui-redis" "chartEnabled") }}
******************

WARNING: Starting August 28th, 2025, the Bitnami public catalog will undergo changes that will remove the current images used in the dependent helm chart for postgres and redis.
The following values changes will be needed to use their legacy image repo if you are using the dependent postgres and redis charts which will not receive any further updates post August 28th, 2025.
  postgresql.image.repository=bitnamilegacy/postgresql
  ui-redis.image.repository=bitnamilegacy/redis

This is a temporary workaround while we review options on how to proceed with these dependencies
******************
{{ end }}